{"ast":null,"code":"import axios from './axiosConfig.js'; // וודאי ש־axiosConfig.js מגדיר את baseURL\n\nexport default {\n  // =====================\n  // Auth\n  // =====================\n  register: async (username, password) => {\n    const result = await axios.post('/register', {\n      username,\n      passwordHash: password\n    });\n    return result.data;\n  },\n  login: async (username, password) => {\n    const result = await axios.post('/login', {\n      username,\n      password\n    });\n    const token = result.data.token;\n    localStorage.setItem('jwt', token); // שמירת JWT ב-localStorage\n    return token;\n  },\n  logout: () => {\n    localStorage.removeItem('jwt');\n  },\n  // =====================\n  // Tasks\n  // =====================\n  getTasks: async () => {\n    const token = localStorage.getItem('jwt');\n    const result = await axios.get('/tasks', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return result.data;\n  },\n  addTask: async name => {\n    const token = localStorage.getItem('jwt');\n    const result = await axios.post('/tasks', {\n      name,\n      isComplete: false\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return result.data;\n  },\n  setCompleted: async (id, name, isComplete) => {\n    const token = localStorage.getItem('jwt');\n    const result = await axios.put(`/tasks/${id}`, {\n      id,\n      name,\n      isComplete\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return result.data;\n  },\n  deleteTask: async id => {\n    const token = localStorage.getItem('jwt');\n    await axios.delete(`/tasks/${id}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  }\n};","map":{"version":3,"names":["axios","register","username","password","result","post","passwordHash","data","login","token","localStorage","setItem","logout","removeItem","getTasks","getItem","get","headers","Authorization","addTask","name","isComplete","setCompleted","id","put","deleteTask","delete"],"sources":["C:/Users/user1/Desktop/תכנות-שנה ב/פרקטיקוד/3/ToDoListReact-master/src/service.js"],"sourcesContent":["import axios from './axiosConfig.js'; // וודאי ש־axiosConfig.js מגדיר את baseURL\n\nexport default {\n  // =====================\n  // Auth\n  // =====================\n  register: async (username, password) => {\n    const result = await axios.post('/register', { username, passwordHash: password });\n    return result.data;\n  },\n\n  login: async (username, password) => {\n    const result = await axios.post('/login', { username, password });\n    const token = result.data.token;\n    localStorage.setItem('jwt', token); // שמירת JWT ב-localStorage\n    return token;\n  },\n\n  logout: () => {\n    localStorage.removeItem('jwt');\n  },\n\n  // =====================\n  // Tasks\n  // =====================\n  getTasks: async () => {\n    const token = localStorage.getItem('jwt');\n    const result = await axios.get('/tasks', { headers: { Authorization: `Bearer ${token}` } });\n    return result.data;\n  },\n  \n\n  addTask: async (name) => {\n    const token = localStorage.getItem('jwt');\n    const result = await axios.post('/tasks', { name, isComplete: false }, { headers: { Authorization: `Bearer ${token}` } });\n    return result.data;\n  },\n\n  setCompleted: async (id, name, isComplete) => {\n    const token = localStorage.getItem('jwt');\n    const result = await axios.put(`/tasks/${id}`, { id, name, isComplete }, { headers: { Authorization: `Bearer ${token}` } });\n    return result.data;\n  },\n\n  deleteTask: async (id) => {\n    const token = localStorage.getItem('jwt');\n    await axios.delete(`/tasks/${id}`, { headers: { Authorization: `Bearer ${token}` } });\n  }\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,kBAAkB,CAAC,CAAC;;AAEtC,eAAe;EACb;EACA;EACA;EACAC,QAAQ,EAAE,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,KAAK;IACtC,MAAMC,MAAM,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAC,WAAW,EAAE;MAAEH,QAAQ;MAAEI,YAAY,EAAEH;IAAS,CAAC,CAAC;IAClF,OAAOC,MAAM,CAACG,IAAI;EACpB,CAAC;EAEDC,KAAK,EAAE,MAAAA,CAAON,QAAQ,EAAEC,QAAQ,KAAK;IACnC,MAAMC,MAAM,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAC,QAAQ,EAAE;MAAEH,QAAQ;MAAEC;IAAS,CAAC,CAAC;IACjE,MAAMM,KAAK,GAAGL,MAAM,CAACG,IAAI,CAACE,KAAK;IAC/BC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEF,KAAK,CAAC,CAAC,CAAC;IACpC,OAAOA,KAAK;EACd,CAAC;EAEDG,MAAM,EAAEA,CAAA,KAAM;IACZF,YAAY,CAACG,UAAU,CAAC,KAAK,CAAC;EAChC,CAAC;EAED;EACA;EACA;EACAC,QAAQ,EAAE,MAAAA,CAAA,KAAY;IACpB,MAAML,KAAK,GAAGC,YAAY,CAACK,OAAO,CAAC,KAAK,CAAC;IACzC,MAAMX,MAAM,GAAG,MAAMJ,KAAK,CAACgB,GAAG,CAAC,QAAQ,EAAE;MAAEC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUT,KAAK;MAAG;IAAE,CAAC,CAAC;IAC3F,OAAOL,MAAM,CAACG,IAAI;EACpB,CAAC;EAGDY,OAAO,EAAE,MAAOC,IAAI,IAAK;IACvB,MAAMX,KAAK,GAAGC,YAAY,CAACK,OAAO,CAAC,KAAK,CAAC;IACzC,MAAMX,MAAM,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAC,QAAQ,EAAE;MAAEe,IAAI;MAAEC,UAAU,EAAE;IAAM,CAAC,EAAE;MAAEJ,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUT,KAAK;MAAG;IAAE,CAAC,CAAC;IACzH,OAAOL,MAAM,CAACG,IAAI;EACpB,CAAC;EAEDe,YAAY,EAAE,MAAAA,CAAOC,EAAE,EAAEH,IAAI,EAAEC,UAAU,KAAK;IAC5C,MAAMZ,KAAK,GAAGC,YAAY,CAACK,OAAO,CAAC,KAAK,CAAC;IACzC,MAAMX,MAAM,GAAG,MAAMJ,KAAK,CAACwB,GAAG,CAAC,UAAUD,EAAE,EAAE,EAAE;MAAEA,EAAE;MAAEH,IAAI;MAAEC;IAAW,CAAC,EAAE;MAAEJ,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUT,KAAK;MAAG;IAAE,CAAC,CAAC;IAC3H,OAAOL,MAAM,CAACG,IAAI;EACpB,CAAC;EAEDkB,UAAU,EAAE,MAAOF,EAAE,IAAK;IACxB,MAAMd,KAAK,GAAGC,YAAY,CAACK,OAAO,CAAC,KAAK,CAAC;IACzC,MAAMf,KAAK,CAAC0B,MAAM,CAAC,UAAUH,EAAE,EAAE,EAAE;MAAEN,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUT,KAAK;MAAG;IAAE,CAAC,CAAC;EACvF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}